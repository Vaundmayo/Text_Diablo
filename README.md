````markdown
#  텍스트 디아블로 게임 개발 보고서

---

## 1. 프로젝트 개요

### 1.1 개발 목적  
이 프로젝트는 C언어를 기반으로 RPG 게임 **‘텍스트 디아블로’**를 완성하는 것을 목표로 진행됨.
기존에 제공된 Act 1과 Act 2 일부 코드를 분석한 뒤, **Act 2(Quest 4~6)**과 **Act 3, Act 4의 모든 퀘스트**를 구현하였음.
이를 통해 구조체, 파일 입출력, 문자열 처리, 함수 분할, 터미널 제어 등 C언어 기능들을 실제 프로그램에 적용해봄.  
또한 여러 운영체제에서도 실행 가능하도록 하였음.

---

### 1.2 개발 환경  
| 구분 | 내용 |
|------|------|
| 사용 언어 | C 언어 |
| 개발 환경 | Windows 10 / Ubuntu 22.04 |
| 컴파일러 | MinGW, GCC |
| 주요 라이브러리 | stdio.h, stdlib.h, string.h, time.h, termios.h, unistd.h 등 |
| 실행 형태 | 텍스트 기반 콘솔 프로그램 |

---

## 2. 컴파일 및 실행 방법

###  Windows
```bash
gcc Diablo-m-test.c -o daiblo.exe
diablo.exe
````

* 실행 파일과 동일한 폴더에 모든 퀘스트 데이터(`Quest1_1.dat` 등)를 둔다.

###  Linux / macOS

```bash
make
./diablo
```

* `termios.h`를 활용해 `getch()` 대체 함수를 구현했다.
* ANSI 이스케이프 코드(`printf("\033[2J\033[1;1H");`)를 사용하여 화면을 초기화한다.
* 퀘스트 `.dat` 파일이 없으면 시나리오가 출력되지 않는다.

###  실행 시 유의사항

* `.dat` 파일은 반드시 UTF-8 인코딩으로 작성해야 한글이 깨지지 않는다.
* `save1.dat`은 세이브 시 자동으로 생성된다.
* 파일 경로가 다르면 텍스트 파일을 불러오지 못하므로 동일 폴더 내에 두어야 한다.

---

## 3. 프로그램 구조

### 3.1 전체 흐름

1. 캐릭터 생성 또는 불러오기
2. 액트 선택 후 퀘스트 시작
3. 전투(`battle quest`) 수행
4. 경험치 및 보상 반영 → 다음 퀘스트 해금
5. 모든 액트 완료 후 엔딩 출력

### 3.2 핵심 함수 구성

| 함수명                   | 기능                            |
| --------------------- | ----------------------------- |
| `main()`              | 게임 루프 및 초기 메뉴                 |
| `set()`, `battle()`   | 전투와 턴 처리                      |
| `Q1_1() ~ Q4_3()`     | 퀘스트 전투 및 시나리오 진행              |
| `save()`, `load()`    | 사용자 정보(`struct user`) 저장/불러오기 |
| `clrscr()`, `delay()` | 콘솔 연출 및 화면 제어                 |

### 3.3 데이터 파일 구성

* `Quest1_1.dat` ~ `Quest4_3.dat` : 퀘스트별 시나리오 및 대사
* `save1.dat` : 플레이어 진행 상태
* 모든 `.dat` 파일은 `fopen("Quest1_1.dat", "rt")` 형태로 읽는 텍스트 데이터 파일임

---

## 4. 액트별 구현 내용

| Act   | 주요 보스 | 특징                   |
| ----- | ----- | -------------------- |
| Act 1 | 안다리엘  | 기본 전투 시스템            |
| Act 2 | 듀리엘   | 다단계 전투               |
| Act 3 | 메피스토  | 다중 몬스터 조합, 전투 다양성 강화 |
| Act 4 | 디아블로  | 최종 보스전 및 엔딩 연출       |

###  Act 2

* 오염된 보노보노 및 조개류 몬스터 토벌
* 상남초 담임좀비 6명 처치
* 단군상 아래 듀리엘 보스전


###  Act 3

* 퀘스트별 테마를 부여 (DJ 증오, 마녀 징징이, 뽀로로 등)
* 반복 전투와 보스전으로 전투 다양화

###  Act 4

* 하수의 군단 → 중수의 군단 → 디아블로의 3단계 전투
* 보스전 전용 대사와 엔딩 구현

---

## 5. 문제 해결 과정

### 5.1 파일 경로 인식 오류

* **문제:** `.dat` 파일을 불러오지 못함
* **해결:** 실행 파일과 동일한 디렉토리에서 읽도록 수정

### 5.2 OS별 호환성 문제

* **문제:** `getch()`, `clrscr()`가 리눅스에서 작동하지 않음
* **해결:** `termios` 기반 입력 처리 함수로 대체

### 5.3 전투 중 입력 오류

* **문제:** `Condition`, `Run away` 키 입력 시 루프 중단
* **해결:** 전투 루프 내부 조건문으로 입력 차단 처리

### 5.4 밸런스 불균형

* **문제:** 일부 몬스터의 HP와 공격력 차이가 심함
* **해결:** 액트 별 `my_random()` 범위 수정으로 밸런스 조정

---

## 6. 실행 결과

* Act 1~4 전체 정상 동작 확인
* 각 퀘스트 시나리오 및 대사 출력 정상
* 보스 처치 후 경험치 및 골드 반영 완료
* 최종 보스 디아블로 클리어 후 엔딩 출력

---

## 7. 결론

이번 프로젝트를 통해**C언어의 구조적 설계, 상태 관리, 파일 입출력, 호환성 처리**를 종합적으로 학습할 수 있었음.
기존 코드를 분석하고 확장하는 과정에서
함수 관리와 코드 분석의 중요성을 배움.

조별 협업을 통해 파트별 구현과 코드 테스트를 병행하면서
충돌 없는 병합과 일정 조율의 필요성도 체감함.
최종적으로 Act 4까지 완성하여 게임의 유저가 디아블로를 처치하고
결말을 맞이할 수 있도록 전체 흐름을 자연스럽게 마무리함.

---

## 8. 참고자료

* 과제 설명서: *C언어 기반 '텍스트 디아블로' 게임 완성하기*
* 조원 작성 시나리오 파일 `디아블로_시나리오 베이스.txt`
* git 사용법(인터넷 참고)
* ANSI Escape Code 참고자료


